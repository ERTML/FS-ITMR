## FS-ITMR 网络整体结构
FS-ITMR 由三部分组成：

1. **Backbone（空间-光谱双分支骨干网络）**：

   * 通过渐进式下采样提取多尺度空间和光谱特征。
   * 嵌入 **S2AFM** 模块，实现高分空间与多光谱信息的深度融合。

2. **Neck（多尺度特征融合颈部）**：

   * 上采样恢复特征空间信息。
   * 利用跳跃连接融合浅层空间特征和深层语义信息，增强单木死亡感知能力。

3. **Head（实例分割头部）**：

   * 基于提取的特征完成目标定位与分类。
   * 输出最终单木死亡识别结果。

---

## 主要模块功能

### 1. 空-谱注意力融合模块（S2AFM）

* 功能：自适应融合高分空间影像与多光谱信息的优势特征。
* 核心机制：

  1. **优势特征注意力（AFA）**：分别提取不同模态的优势特征。
  2. **跨模态空间注意力（CAS）**：学习特征与单木死亡信息之间的相关性。
  3. **通道注意力（CA）**：实现多模态优势特征的自适应融合。
* 目的：融合空-谱优势特征，提升对单木死亡区域的深度感知能力。
---

### 2. 部分深度可分离卷积（PDSConv）

* 功能：减少计算量，同时增强深层语义特征提取能力。
* 核心机制：

  * 输入特征通道拆分为三路：

    1. **轻量卷积分支**：对冗余通道使用深度卷积，降低计算量。
    2. **标准卷积分支**：对高价值通道使用普通卷积，保证特征表达。
    3. **恒等分支**：保留关键原始特征。
  * 三路输出通道拼接后通过逐点卷积生成最终输出。
* 目的：替换原 YOLOv11 Bottleneck，构建C2PDS模块，提高运算效率。

---

### 3. 空间深度转换卷积（SPD-Conv）

* 功能：优化下采样过程，减少空间细节损失。
* 核心机制：

  1. 将输入特征在空间维度划分子特征块（例如 2×2）。
  2. 沿通道维度拼接，形成中间特征图，空间尺寸缩小，通道数增大。
  3. 使用非步幅卷积对中间特征图进行通道压缩，得到下采样结果。
* 目的：替代传统下采样操作，提高单木死亡检测精度。

---

### 参考文件

* 网络结构定义：[FS-ITMR.yaml](ultralytics/cfg/models/11/FS-ITMR.yaml)
* 模块实现：[block.py](ultralytics/nn/modules/block.py)
* 网络结构打印工具 [print_model.py](print_model.py)
